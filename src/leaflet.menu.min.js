L.Control.LeafletMenu=L.Control.extend({options:{mapId:"map",items:[],button:void 0},statics:{CLASS:"leaflet-menu",OverFlow_Y:"overflow-y",OverFlow_X:"overflow-x"},initialize:function(a,b){L.setOptions(this,b),this.map=a,this.menuItem=[],this.menu_div=L.DomUtil.create("div","menu",document.getElementById(this.options.mapId)),this.container(),L.DomEvent.on(this.container,"click",this._onMouseClick,this).on(this.container,"mouseover",this._onMouseOver,this).on(this.container,"mouseout",this._onMouseOut,this).on(this.container,"mousewheel",L.DomEvent.stop).on(this.container,"mousedown",L.DomEvent.stop).on(this.container,"dblclick",L.DomEvent.stop).on(this.container,"contextmenu",L.DomEvent.stop).on(window,"click",this.hide,this)},container:function(){return this.container=L.DomUtil.create("div",L.Control.LeafletMenu.CLASS,this.menu_div),this.container.style.position="absolute",this.container.style.OverFlow_Y="auto",this.container.style.OverFlow_X="hidden",this},createMenu:function(){var a=L.DomUtil.get("styles-menu").parentNode,b=a.offsetTop,c=a.offsetWidth+2*a.offsetLeft;return this.container.style.margin=b+"px auto auto "+c+"px",this._removeItems()._createItems(),this},removeMenu:function(){for(;this.menu_div.firstChild;)this.menu_div.removeChild(this.menu_div.firstChild)},_createItems:function(){for(var a=this.options.items,b=Object.keys(a),c=0;c<=b.length-1;c++)if(this.menuItem[c]=L.DomUtil.create("a","leaflet-menu-item",this.container),this.menuItem[c].text=b[c],a[b[c]].onClick){if(a[b[c]].onClick&&a[b[c]].href)throw"Menu item could not be clickable and redirectable at the same time"}else this.menuItem[c].href=a[b[c]].href;return this},_removeItems:function(){for(;this.container.firstChild;)this.container.removeChild(this.container.firstChild);return this},show:function(){try{this.createMenu(),this.container.style.display="block",this.options.button&&this.options.button.state("hide-menu")}catch(a){console.log("Error(show-menu): \n"+a)}},hide:function(){try{this.container.style.display="none",this.options.button&&this.options.button.state("show-menu")}catch(a){console.log("Error(hide-menu): \n"+a)}},_itemFunc:function(a){if(this.options.items[a].href)return this;if(this.target){if(!this.target||!this.target._map)throw"Sorry, there could be some error with your function";try{this.map.removeLayer(this.target),this.target=void 0}catch(a){console.log("Error(Removing target): \n"+a)}}else this.target=this.options.items[a].onClick(arguments)},_onMouseOver:function(a){L.DomUtil.addClass(a.target||a.srcElement,"over")},_onMouseOut:function(a){L.DomUtil.removeClass(a.target||a.src.Element,"over")},_onMouseClick:function(a){this._itemFunc(a.target.text)}}),L.leafletMenu=function(a,b){return new L.Control.LeafletMenu(a,b)};